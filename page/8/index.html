<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="python">
<meta property="og:url" content="http://yoursite.com/page/8/index.html">
<meta property="og:site_name" content="python">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="python">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/8/"/>





  <title>python</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">python</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/16/2018/2018-03-16-stmt的含义/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hiro">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="python">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/16/2018/2018-03-16-stmt的含义/" itemprop="url">stmt的含义</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-16T11:33:00+08:00">
                2018-03-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="stmt"><a href="#stmt" class="headerlink" title="stmt"></a>stmt</h3><p>stmt == statement的缩写,通用写法。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/15/2018/2018-03-15-python-函数中定义类/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hiro">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="python">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/15/2018/2018-03-15-python-函数中定义类/" itemprop="url">python 函数中定义类/python class definition in function</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-15T17:15:00+08:00">
                2018-03-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/源码阅读/" itemprop="url" rel="index">
                    <span itemprop="name">源码阅读</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="阅读get-pip"><a href="#阅读get-pip" class="headerlink" title="阅读get-pip"></a>阅读get-pip</h3><p>近日,在安装pip包,无意发现类定义在函数中,决定了解如何使用这一技能</p>
<pre><code>def bootstrap(tmpdir=None):
    # Import pip so we can use it to install pip and maybe setuptools too
    import pip
    from pip.commands.install import InstallCommand
    from pip.req import InstallRequirement

    # Wrapper to provide default certificate with the lowest priority
    class CertInstallCommand(InstallCommand):
        def parse_args(self, args):
            # If cert isn&apos;t specified in config or environment, we provide our
            # own certificate through defaults.
            # This allows user to specify custom cert anywhere one likes:
            # config, environment variable or argv.
            if not self.parser.get_default_values().cert:
                self.parser.defaults[&quot;cert&quot;] = cert_path  # calculated below
            return super(CertInstallCommand, self).parse_args(args)

    pip.commands_dict[&quot;install&quot;] = CertInstallCommand
</code></pre><p>写个简单一个简单的例子：<br>返回一个类实例</p>
<pre><code> def func(**args):
   class BindArgs(object):
       foo = args[&apos;foo&apos;]
       print &apos;foo is &apos;, foo
       def __init__(self,args):
          print &quot; hello i am here&quot;
   return BindArgs(args) #return an instance of the class

f = func(foo=3)
</code></pre><p>用到再实例化,当实例化事,init才真正的执行。</p>
<pre><code>def func(**args):
   class BindArgs(object):
       foo = args[&apos;foo&apos;]
       print &apos;foo is &apos;, foo
       def __init__(self,args):
          print &quot; hello i am here&quot;
   return BindArgs

f = func(foo=3)

f(args=&quot;yellow&quot;)
</code></pre><h4 id="类中类"><a href="#类中类" class="headerlink" title="类中类"></a>类中类</h4><pre><code>#!/usr/bin/env python

class Human:

   def __init__(self):
      self.name = &apos;Guido&apos;
      self.head = self.Head()

   class Head:
      def talk(self):
      return &apos;talking...&apos;

if __name__ == &apos;__main__&apos;:
    guido = Human()
    print guido.name
    print guido.head.talk()
</code></pre><p>  太简单类, 不解释。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/02/2018/2018-03-02-python-super-mixin论道/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hiro">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="python">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/02/2018/2018-03-02-python-super-mixin论道/" itemprop="url">python super& mixin论道</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-02T18:15:00+08:00">
                2018-03-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-Return-Super"><a href="#1-Return-Super" class="headerlink" title="1. Return Super"></a>1. Return Super</h3><p>  class BaseAdder(object):<br>      def add(self, a, b):<br>          return a + b</p>
<p>  class NonReturningAdder(BaseAdder):<br>      def add(self, a, b):<br>          super(NonReturningAdder, self).add(a, b)<br>          print ‘define!’</p>
<p>  class ReturningAdder(BaseAdder):<br>      def add(self, a, b):<br>          assert a=5<br>          return super(ReturningAdder, self).add(a, b)</p>
<p>创建2个实例</p>
<pre><code>&gt;&gt;&gt; a = NonReturningAdder()
&gt;&gt;&gt; b = ReturningAdder()
&gt;&gt;&gt; a.add(3, 5)
&gt;&gt;&gt; b.add(3,5)
</code></pre><p>  a.add()没有输出结果，而b.add()输出8，NonReturningAdder类重定义了add 方法，为了能同时实现父类的功能。ReturningAdder 类 使用return 返回父类方法的结果。</p>
<h3 id="2-Mixin"><a href="#2-Mixin" class="headerlink" title="2. Mixin"></a>2. Mixin</h3><h4 id="2-1-Mixin的概念"><a href="#2-1-Mixin的概念" class="headerlink" title="2.1 Mixin的概念"></a>2.1 Mixin的概念</h4><p>mixin是 mix in的意思，就是混入，可以就任意一个对象的全部或部分属性拷贝到另一个对象上。</p>
<p>继承，组合都是为了代码复用，Mixin 方式也是一种特殊地多继承(非is-a)，但他看起来像是用组合的方式来实现代码复用， <code>可以把 Mixin 看成是一个个的插件，设计的类需要什么插件就继承相应的 Mixin</code></p>
<h4 id="2-2-Mixin-设计代码的方式"><a href="#2-2-Mixin-设计代码的方式" class="headerlink" title="2.2 Mixin 设计代码的方式"></a>2.2 Mixin 设计代码的方式</h4><p>代码中的任何单元（package，module，class，function）都要遵循只做一件事，并且把这件事做好的原则， Mixin 也要保证一个 Mixin 只有一个功能，如果有多个功能，写成多个 Mixin。</p>
<h4 id="2-4-Mixin-在基类的左边"><a href="#2-4-Mixin-在基类的左边" class="headerlink" title="2.4 Mixin 在基类的左边"></a>2.4 Mixin 在基类的左边</h4><ul>
<li>Mixin 类是单一职责的</li>
<li>Mixin 类对宿主类一无所知</li>
<li>没有定义<strong>init</strong>() 方法，并且没有实例属性</li>
</ul>
<pre><code>class Question(object):
    def answer(self):
        return &quot;Base Answer&quot;

class ExclaimMixin(object):
    def answer(self):
        return &quot;{}!&quot;.format(super(ExclaimMixin, self).answer())

class ExpressiveQuestion(ExclaimMixin, Question)
    pass
</code></pre><p>那么我们执行一下：</p>
<pre><code>&gt;&gt;&gt; q = ExpressiveQuestion()
&gt;&gt;&gt; q.answer()
   &apos;Base Answer!&apos;
</code></pre><p>如果在ExpressiveQuestion 和 ExclaimMixin 有同名的函数,那么Mixin类中的函数不起作用。优先使用ExpressiveQuestion的方法。</p>
<pre><code>class UltimateBase(object):
  def dispatch(self, *args, **kwargs):
    print &apos;base dispatch&apos;

class FooMixin(object):

  def dispatch(self, *args, **kwargs):
    print &apos;perform check A&apos;
    # FooMixin 下一个是 BarMixin 找 dispatch 方法
    return super(FooMixin, self).dispatch(*args, **kwargs)

class BarMixin(object):

  def dispatch(self, *args, **kwargs):
    print &apos;perform check B&apos;
    # BarMixin 下一个是 UltimateBase 找方法
    return super(BarMixin, self).dispatch(*args, **kwargs)

class FooBar(FooMixin, BarMixin, UltimateBase):
  pass
</code></pre><p>看一下结果是什么：</p>
<pre><code>&gt;&gt;&gt;FooBar().dispatch()
  perform check A
  perform check B
  base dispatch

&gt;&gt;&gt;print FooBar().__class__.__mro__
(&lt;class &apos;__main__.FooBar&apos;&gt;, &lt;class &apos;__main__.FooMixin&apos;&gt;, &lt;class &apos;__main__.BarMixin&apos;&gt;, &lt;class &apos;__main__.UltimateBase&apos;&gt;, &lt;type &apos;object&apos;&gt;)
</code></pre><p>根据MRO顺序 FooBar -&gt; FooMixin -&gt; BarMixin -&gt; UltimateBase- object.</p>
<p>举个小栗子, 有个 MRO:</p>
<pre><code>[A, B, C, D, E, object]
</code></pre><p>下面的调用:</p>
<pre><code>super(C, A).foo()
</code></pre><p>super 只会从 C 之后查找，即: 只会在 D 或 E 或 object 中查找 foo 方法。</p>
<h4 id="小测试"><a href="#小测试" class="headerlink" title="小测试"></a>小测试</h4><pre><code>class Parent(object):
    def test(self):
        print(&quot;parent&quot;)


class MyMixin(object):
    def test(self):
        super(MyMixin, self).test()
        print(&quot;mixin&quot;)


class MyClass(MyMixin, Parent):
    def test(self):
        super(MyClass, self).test()
        print(&quot;self&quot;)

if __name__ == &quot;__main__&quot;:
    my_obj = MyClass()
    my_obj.test()
</code></pre><p>MRO的顺序是</p>
<blockquote>
<p> <class '__main__.myclass'="">, <class '__main__.mymixin'="">, <class '__main__.parent'="">, <type 'object'=""></type></class></class></class></p>
</blockquote>
<p>总结补充：</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/02/2018/2018-03-02-2018-开启-python3-之旅/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hiro">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="python">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/02/2018/2018-03-02-2018-开启-python3-之旅/" itemprop="url">Hello Python3</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-02T13:49:00+08:00">
                2018-03-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Hello-Python3"><a href="#Hello-Python3" class="headerlink" title="Hello Python3"></a>Hello Python3</h2><p>在python的道路上，和python保持一致性。开启python3之旅。现在重温The Zen of Python：</p>
<pre><code>The Zen of Python, by Tim Peters

1. Beautiful is better than ugly.
2. Explicit is better than implicit.
3. Simple is better than complex.
4. Complex is better than complicated.
5. Flat is better than nested.
6. Sparse is better than dense.
7. Readability counts.
8. Special cases aren&apos;t special enough to break the rules.
9. Although practicality beats purity.
10. Errors should never pass silently.
11. Unless explicitly silenced.
12. In the face of ambiguity, refuse the temptation to guess.
13. There should be one-- and preferably only one --obvious way to do it.
14. Although that way may not be obvious at first unless you&apos;re Dutch.
15. Now is better than never.
16. Although never is often better than *right* now.
17. If the implementation is hard to explain, it&apos;s a bad idea.
18. If the implementation is easy to explain, it may be a good idea.
19. Namespaces are one honking great idea -- let&apos;s do more of those!
</code></pre><p>中文翻译</p>
<pre><code>优美胜于丑陋（Python 以编写优美的代码为目标）
明了胜于晦涩（优美的代码应当是明了的，命名规范，风格相似）
简洁胜于复杂（优美的代码应当是简洁的，不要有复杂的内部实现）
复杂胜于凌乱（如果复杂不可避免，那代码间也不能有难懂的关系，要保持接口简洁）
扁平胜于嵌套（优美的代码应当是扁平的，不能有太多的嵌套）
间隔胜于紧凑（优美的代码有适当的间隔，不要奢望一行代码解决问题）
可读性很重要（优美的代码是可读的）
即便假借特例的实用性之名，也不可违背这些规则（这些规则至高无上）

不要包容所有错误，除非你确定需要这样做（精准地捕获异常，不写 except:pass 风格的代码）

当存在多种可能，不要尝试去猜测
而是尽量找一种，最好是唯一一种明显的解决方案（如果不确定，就用穷举法）
虽然这并不容易，因为你不是 Python 之父（这里的 Dutch 是指 Guido ）

做也许好过不做，但不假思索就动手还不如不做（动手之前要细思量）

如果你无法向人描述你的方案，那肯定不是一个好方案；反之亦然（方案测评标准）

命名空间是一种绝妙的理念，我们应当多加利用（倡导与号召）
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/01/2018/2018-03-01-你所不知道的python-inpsect窥视秘密/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hiro">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="python">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/01/2018/2018-03-01-你所不知道的python-inpsect窥视秘密/" itemprop="url">你所不知道的Python-inpsect窥视秘密</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-01T17:15:00+08:00">
                2018-03-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="万能的inspect模块-探测python对象的秘密"><a href="#万能的inspect模块-探测python对象的秘密" class="headerlink" title="万能的inspect模块 - 探测python对象的秘密"></a>万能的inspect模块 - 探测python对象的秘密</h3><blockquote>
<p>The inspect module provides several useful functions to help get information about live objects such as <code>modules</code>, <code>classes</code>, <code>methods</code>, <code>functions</code>, <code>tracebacks</code>, <code>frame objects</code>, and <code>code objects</code>. For example, it can help you examine the contents of a class, retrieve the <code>source code of a method</code>, extract and format the argument list for a function, or get all the information you need to display a detailed traceback.</p>
</blockquote>
<h3 id="检查对象的状态"><a href="#检查对象的状态" class="headerlink" title="检查对象的状态"></a>检查对象的状态</h3><pre><code>&gt;&gt;&gt; import inspect
&gt;&gt;&gt; inspect.ismodule(inspect)    # 检查 inspect 是否为模块
True
&gt;&gt;&gt; inspect.ismethod(inspect)    # 检查 inspect 是否为方法
False
&gt;&gt;&gt; inspect.isfunction(len)      # 检查 len 是否为函数
True
&gt;&gt;&gt; inspect.isbuiltin(len)       # 检查 len 是否内置函数
True
&gt;&gt;&gt; inspect.isawaitable(inspect) # 检查 inspect 是否用于 await expression
False
&gt;&gt;&gt;
</code></pre><p>ismodule 和 ismethod 比较常用方法，更有用的还在下面，</p>
<h3 id="获得信息"><a href="#获得信息" class="headerlink" title="获得信息"></a>获得信息</h3><p>我们还可以获得docstring、<br>code source、comment</p>
<pre><code>&gt;&gt;&gt; inspect.getdoc(len)   # 取得 len 的 docstring
&apos;Return the number of items in a container.&apos;
&gt;&gt;&gt; inspect.getsource(inspect)    # 取得 inspect 的 source code
&apos;&quot;&quot;&quot;Get useful information from live Python objects.\n\n
This module encapsulates the interface provided by the
internal special\nattributes (co_*, im_*, tb_*, etc.) in ...&apos;
&gt;&gt;&gt;
</code></pre><p>调试技术就出现了，在阅读源码时，可能找不到方法的位置，可以查看源代码。<br>inspect.getsource(DocumentVersion.ocr_content)</p>
<h3 id="获得内部成员列表"><a href="#获得内部成员列表" class="headerlink" title="获得内部成员列表"></a>获得内部成员列表</h3><p>类似dir()方法</p>
<pre><code>&gt;&gt;&gt; inspect.getmembers(len)
[(&apos;__call__&apos;,
  &lt;method-wrapper &apos;__call__&apos; of builtin_function_or_method object at 0x7f85af1491c0&gt;),
 (&apos;__class__&apos;, &lt;class &apos;builtin_function_or_method&apos;&gt;),
 (&apos;__delattr__&apos;,
 ...,
 (&apos;__setattr__&apos;,
  &lt;method-wrapper &apos;__setattr__&apos; of builtin_function_or_method object at 0x7f85af1491c0&gt;),
 (&apos;__sizeof__&apos;,
  &lt;built-in method __sizeof__ of builtin_function_or_method object at 0x7f85af1491c0&gt;),
 (&apos;__str__&apos;,
  &lt;method-wrapper &apos;__str__&apos; of builtin_function_or_method object at 0x7f85af1491c0&gt;),
 (&apos;__subclasshook__&apos;,
  &lt;built-in method __subclasshook__ of type object at 0x899760&gt;),
 (&apos;__text_signature__&apos;, &apos;($module, obj, /)&apos;)]
</code></pre><p>参考文章来源<br><a href="https://blog.louie.lu/2017/08/08/inspect-python-standard-library-11/" target="_blank" rel="noopener">https://blog.louie.lu/2017/08/08/inspect-python-standard-library-11/</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/01/2018/2018-03-01-python-父类使用子类的方法属性/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hiro">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="python">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/01/2018/2018-03-01-python-父类使用子类的方法属性/" itemprop="url">python 父类使用子类的方法属性</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-01T17:15:00+08:00">
                2018-03-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>近日，在阅读源代码遇到父类使用子类的方法属性，举个简单的例子：</p>
<pre><code>class parent(object):
    def test(self):
        self.child_attribute  # 子类的属性？
        print self            # &lt;__main__.child object at 0x100597050&gt;
        self.child_method()

class child(parent):
    def __init__(self):
        self.child_attribute = &apos;child&apos;

    def child_method(self):
        print &apos;child method is called&apos;


c=child()
c.test()
print dir(c)
</code></pre><p>实例c 确实有test方法,self用指向child实例,<br>总之,父类及子类之间的方法及属性是<code>共享</code>的。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/01/2018/2018-03-01-django源代码阅读：import-string函数/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hiro">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="python">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/01/2018/2018-03-01-django源代码阅读：import-string函数/" itemprop="url">Django源代码阅读：import_string函数</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-01T16:51:00+08:00">
                2018-03-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="import-string"><a href="#import-string" class="headerlink" title="import_string"></a>import_string</h2><p>  <code>import_string</code>导入模块</p>
<pre><code>def import_string(dotted_path):
  &quot;&quot;&quot;
  Import a dotted module path and return the attribute/class designated by the
  last name in the path. Raise ImportError if the import failed.
  &quot;&quot;&quot;
  try:
      module_path, class_name = dotted_path.rsplit(&apos;.&apos;, 1)
  except ValueError:
      msg = &quot;%s doesn&apos;t look like a module path&quot; % dotted_path
      six.reraise(ImportError, ImportError(msg), sys.exc_info()[2])

  module = import_module(module_path)

  try:
      return getattr(module, class_name)
  except AttributeError:
      msg = &apos;Module &quot;%s&quot; does not define a &quot;%s&quot; attribute/class&apos; % (
          module_path, class_name)
      six.reraise(ImportError, ImportError(msg), sys.exc_info()[2])
</code></pre><p>假如 dotted_path = ‘ocr.backends.pyocr.PyOCR’ 输出结果是：<br>class_name = PyOCR</p>
<p>其实这个类在orc/backends/pyocr.py里面</p>
<p>module_path =’’ocr.backends.pyocr’’</p>
<h2 id="import-module"><a href="#import-module" class="headerlink" title="import_module"></a>import_module</h2><p>函数声明: importlib.import_module(name, package=None)</p>
<p>从文档中可以看出，这个函数的主要功能就是导入指定的包或者模块,它并不能导入模块中的类或者函数。代码中使用：</p>
<blockquote>
<p>sys.modules</p>
</blockquote>
<p>这个函数还支持相对导入，如果要使用相对导入的话，需要设置第二个参数package来确认执行相对导入时的当前路径。<br>如果你想要在运行时动态导入的话，比如新创建一个Python文件再来导入，需要调用importlib.invalidate_caches函数，来确保让导入系统能够发现新的模块。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/26/2018/2018-02-26-python-new-init-区别/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hiro">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="python">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/26/2018/2018-02-26-python-new-init-区别/" itemprop="url">python new init 的 区别</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-02-26T18:13:00+08:00">
                2018-02-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="构造与初始化"><a href="#构造与初始化" class="headerlink" title="构造与初始化"></a>构造与初始化</h2><p><code>__init__</code> 实例方法</p>
<p>构造方法是我们使用频率最高的魔法方法了，几乎在我们定义类的时候，都会去定义构造方法，目的是初始化对象。</p>
<pre><code>class T(ojbect):
  def __init__(self,count):
    self.count = count

t = T(50)
</code></pre><p><code>__new__</code> 静态类方法<br>一般不常见，它会在对象实例化事第一个被调用的，它和<code>__init__</code>区别是：</p>
<ol>
<li><strong>new</strong> 的第一个参数是cls，而<strong>init</strong>的第一个参数是self</li>
<li><strong>new</strong> 返回值是一个实例，而<strong>init</strong>没有返回值(<strong>init</strong> 只能返回 None 值，否则报错)，只做初始化操作</li>
<li><strong>new</strong> 返回一个实例对象</li>
</ol>
<p>一般我们不会去重写该方法，除非你确切知道怎么做，什么时候你会去关心它呢，它作为构造函数用于创建对象，是一个工厂函数，专用于生产实例对象。著名的设计模式之一，单例模式，就可以通过此方法来实现。在自己写框架级的代码时，可能你会用到它，我们也可以从开源代码中找到它的应用场景</p>
<pre><code>class T(object):
    def __init__(self, count):
        print(&apos;init invoked&apos;)
        self.count = count

    def __new__(cls, count):
        print(&apos;cls&apos;, cls)
        self = super(T, cls).__new__(cls)
        print(self)
        return self


t = T(50)
</code></pre><p>输出结果：</p>
<pre><code>cls &lt;class &apos;__main__.T&apos;&gt; # __new__
&lt;__main__.T object at 0x103d28470&gt;
init invoked  # __init__
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/7/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/9/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Hiro</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">68</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">25</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.zuopiezi.org" title="zuopiezi" target="_blank">zuopiezi</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hiro</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
